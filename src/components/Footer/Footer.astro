---
//FOOTER

import SectionLayout from "@/layouts/SectionLayout.astro";
import LogoBrand from "../MoneypenniesLogo/LogoBrand.astro";

// const linkedIn = "https://www.linkedin.com/in/moneypennies/";

const inputPara = "COOL UPDATES";
const terms = "terms";
const cookies = "cookies";
const privacy = "privacy";
const helpH2 = "Help";
const contactH2 = "contact";
const email = "email";
const number = "call";
const copyright = "© 2025 Oliver’s Data Holdings Ltd t/a Moneypennies ";
const address = "Manchester Suite B 2 Edge Lane Manchester M21 9JF";

// const tagLine = "connections that count";
---

<SectionLayout
    variant="color"
    allowOverflow={true}
    textWidth="full"
    className="Section_05_footer"
    heightVariant="normal"
>
    <!-- COLUMN 1 -->
    <footer
        class="footer--true py-20 border-t-[0.5px] border-white footer--container"
    >
        <LogoBrand class="footer--logo" />
        <section class="section__footer">
            <!-- 
            COLUMN 1 NEWSLETTER  -->
            <nav class="newsletter--container">
                <ul class="footer--container__01">
                    <li>
                        <h2 class="lg__font">{inputPara}</h2>
                    </li>
                    <li>
                        <!-- NEWSLETTER FORM -->
                        <form
                            method="post"
                            class="validate tn__font"
                            action="https://moneypennies.us19.list-manage.com/subscribe/post?u=a2dba4ae92f961f91be27715d&id=164a2cfef4&f_id=002426e7f0"
                            name="mc-embedded-subscribe-form"
                            target="blank"
                        >
                            <!-- Mailchimp honeypot field -->
                            <div
                                aria-hidden="true"
                                style="position: absolute; left: -5000px;"
                            >
                                <input
                                    type="text"
                                    name="b_a2dba4ae92f961f91be27715d_164a2cfef4"
                                    tabindex="-1"
                                    value=""
                                />
                            </div>

                            <div class="form-field sm__font">
                                <input
                                    type="email"
                                    name="EMAIL"
                                    placeholder="write your email"
                                    id="mce-EMAIL"
                                    class="required email"
                                    tabindex="1"
                                    required
                                />
                            </div>

                            <nav class="checkbox--container tn__font">
                                <input
                                    type="checkbox"
                                    name="agree-privacy"
                                    id="agree-privacy"
                                    tabindex="2"
                                    required
                                />
                                <label for="agree-privacy" class="tn__font"
                                    >I agree with the
                                    <a href="/help-page/" class="link--privacy"
                                        >privacy policy</a
                                    ></label
                                >
                            </nav>
                            <div class="button--newsletter">
                                <a type="submit" class="button--01">
                                    <span
                                        href=""
                                        class="button--01__text button--newsletter__02"
                                        >sign me up!</span
                                    ></a
                                >
                            </div>
                        </form>
                    </li>
                </ul>
            </nav>
            <!-- COLUMN 2 -->
            <section class="footer--links__container">
                <section class="footer--links">
                    <ul class="footer--container__02">
                        <li>
                            <h2 class="lg__font uppercase h2__help">
                                {helpH2}
                            </h2>
                        </li>
                        <li>
                            <a
                                href="/help-page/"
                                class="button--01 sm__font"
                                aria-label="Read our privacy policy"
                            >
                                <span class="button--01__text sm__font">
                                    {privacy}</span
                                >
                            </a>
                        </li>

                        <li>
                            <a
                                href="/help-page/"
                                class="button--01 sm__font"
                                aria-label="Read our cookie policy"
                            >
                                <span class="button--01__text sm__font">
                                    {cookies}</span
                                >
                            </a>
                        </li>
                    </ul>
                </section>

                <!-- COLUMN 3 -->
                <section class="">
                    <ul class="footer--container__03">
                        <li>
                            <h2 class="lg__font uppercase h2__contact">
                                {contactH2}
                            </h2>
                        </li>
                        <li>
                            <a
                                href="mailto:suzanne@moneypennies.biz"
                                class="button--01"
                                aria-label="Send us an email"
                            >
                                <span class="button--01__text sm__font">
                                    {email}</span
                                >
                            </a>
                        </li>

                        <li>
                            <a
                                href="tel:+44 07967 826 038"
                                class="button--01"
                                aria-label="Call us at +44 07967 826 038"
                            >
                                <span class="button--01__text sm__font"
                                    >{number}</span
                                >
                            </a>
                        </li>
                        <li>
                            <a
                                href="https://www.linkedin.com/in/moneypennies/"
                                target="_blank"
                                aria-label="Visit our LinkedIn profile (opens in new tab)"
                                rel="noopener noreferrer"
                            >
                                <img
                                    class="linkedin__icon"
                                    src="/images/icons/linkedin_icon_white.png"
                                    alt="LinkedIn logo"
                                />
                            </a>
                        </li>
                    </ul>
                </section>
            </section>
        </section>

        <section class="copyright">
            <p class="tn__font">{address}</p>
            <p class="tn__font">{copyright}</p>
        </section>
    </footer>

    <!-- INFO AT BOTTOM FLEX ROW -->
</SectionLayout>

<style lang="scss">
    @use "@/styles/mixins";

    .footer--container {
        // position: fixed;
        bottom: 0;
        background: #00218a;
        color: #f6f0e7;
    }

    // ----- FORM STYLING -----
    form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        width: 100%;

        .form-field {
            border-bottom: 0.5px solid white;
            padding-bottom: 0.25rem;
            transition: border-color 0.3s;

            &:focus-within {
                border-color: white;
            }
        }

        input[type="text"],
        input[type="email"] {
            width: 100%;
            background-color: transparent;
            color: white;
            padding: 0.5rem 0;
            border: none; // Remove default border - using border-bottom on container instead

            &::placeholder {
                color: var(--off-white, #f6f0e7);
                opacity: 0.6;
            }

            &:focus {
                outline: none;
            }

            @include for-size(tablet, up) {
                max-width: 100%; // Ensure it uses the full 50% column width
            }
        }
        a[type="submit"] {
            // padding-top: 1rem;
            width: fit-content;
            // align-self: flex-start;
            // text-decoration: !important underline;
            // color: var(--off-white, #f6f0e7);
        }
    }

    .button--newsletter {
        padding-top: 1rem;
        align-self: flex-start;
    }

    .button--newsletter__02 {
        color: var(--off-white, #f6f0e7);
        text-decoration: underline;
        text-underline-offset: 10px;
    }
    // NEWSLETTER INPUT

    .checkbox--container {
        display: flex;
        align-items: flex-start;
        flex-direction: row;
        justify-content: flex-start;
        gap: 0.5rem;
        margin-top: 0.5rem;

        input[type="checkbox"] {
            // margin-top: 0.2rem; // Align with first line of text
            flex-shrink: 0; // Prevent checkbox from shrinking

            accent-color: var(--off-white, #f6f0e7);
        }

        label {
            font-size: 0.6rem;
            line-height: 1.4;
            color: var(--off-white, #f6f0e7);
            opacity: 1; // Slightly dimmed like placeholder text

            @include for-size(tablet, up) {
                // font-size: !important 0.5rem;
            }
        }

        .link--privacy {
            color: white;
            text-decoration: underline;
            text-underline-offset: 5px;

            opacity: 1; // Make it stand out from the dimmed label text
            font-size: inherit; // Inherit the label's font size
            transition: opacity 0.3s ease;

            &:hover {
                opacity: 1;
                color: var(--mp-blue, #22219b);
                background-color: var(--off-white, #f6f0e7);
                border-radius: 2px;
                padding: 0.2rem 0.2rem 0.2rem 0.2rem;
                text-decoration: none;
            }
        }
    }

    // .button--privacy {
    //     font-size: 0.6rem;
    // }

    .copyright {
        display: flex;
        flex-direction: column;
        padding-top: 4rem;
        // justify-content: flex-start;
        align-items: flex-start;
        // padding: 4rem 2rem 0rem 2rem;
        gap: 2rem;

        @include for-size(tablet, up) {
            flex-direction: row;
            gap: 1.5rem;
            // padding: 4rem 2rem 0rem 2rem;
        }
    }

    h2 {
        @include for-size(tablet, up) {
            @include md__font;
        }
    }
    .section__footer {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        padding-left: 1rem;
        padding-right: 1rem;
        padding-top: 4rem;

        @include for-size(tablet, up) {
            flex-direction: row;
            padding-left: 2rem;
            padding-right: 2rem;
            padding-top: 6rem;
            align-items: flex-start; // Align tops of columns
        }
    }
    .newsletter--container {
        flex: 1 1 50%;
        padding-left: 2rem;
        padding-right: 2rem;
    }

    .footer--container__01 {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        // justify-content: center;
        gap: 1rem;
        list-style: none;
        padding: 0;
        margin: 0;

        @include for-size(tablet, up) {
            align-items: flex-start;
            gap: 0; // Remove gap to control spacing manually
        }

        // h2
        li:nth-child(1) {
            @include for-size(tablet, up) {
                margin-bottom: 1rem; // Space to align with first links
            }
        }

        // form
        li:nth-child(2) {
            width: 100%;

            @include for-size(tablet, up) {
                width: 100%; // Take full width of the 50% column
            }
        }
    }

    // COLUMN 1 AND 2 STYLES
    .footer--links__container {
        @include for-size(tablet, up) {
            flex: 1 1 50%;
            display: flex;
            flex-direction: row;
            gap: 4rem;
        }
    }

    .footer--links,
    .footer--container__03 {
        @include for-size(tablet, up) {
            flex: 1;
        }
    }

    .footer--container__02,
    .footer--container__03 {
        display: flex;
        flex: 1;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;
        list-style: none;
        padding-top: 4rem;
        padding: 2rem;
        margin: 0;

        @include for-size(tablet, up) {
            flex: 1;
            align-items: flex-start;
            padding-top: 0; // Remove top padding to align with logo
        }
    }

    h2 {
        padding-bottom: 1rem;
        margin: 0; // Remove default margins
    }

    .linkedin__icon {
        height: 25px;
        width: 25px;
        color: white;
        margin-left: 1vw;
    }

    // Additional responsive adjustments
    @include for-size(tablet, up) {
        .footer--container__02,
        .footer--container__03 {
            // Align first links with paragraph
            li:nth-child(2) {
                margin-top: 0; // Align with paragraph in left column
            }
        }
    }
</style>
